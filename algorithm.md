# полезность алгоритмов

Кодерам на собеседованиях часто задают вопрс про алгоритмы.
Обычно - алгоритмы сортировки.

## Цель этой статьи

Показать, что алгоритмы - не то, что кодер пишет.
Кодер лишь использует встроенные инструменты.
Крутость кодера определяется тем, на сколько удачно он умеет инструменты подбирать.

## сферический кейс

Написать оптимальный алгоритм сортировки для вывода top10 из 10к записей.

### стандартное решение

Применить сортировку: **quicksort** будет лучше **bubblesort**.
Но даже **quicksort** имеет сложность **O**(n log n).
Для 10к записей это 40к операций (10к умножить на 4 разряда).
И это не считая краевых случаев, где **O** может быть сильно больше.

### на самом деле

Нам не нужен отсортированный массив.
Достаточно 10 верхних значений.

### оптимизированное стандартное решение

Резервируем память под 10 (11 в классических ЯП) зачений.
Для каждого значения из списка:
1. пихаем его в эту структуру
2. сортируем структуру
3. обрезаем 11ое

### опять же нет

Нам не нужно сортировать записи *каждый* раз для вывода top10.

### решение нормального человека

Нам нужно обновлять эту структуру лишь при обновлении записи.
Тогда одно обновление записи займёт (как выше):
1. добавление в список
2. подъём со сравнением (вставка значения в сортированный список)
3. отбрасывание меньшего значения

Это 3-22 операции на обновление счётчика.

### в реальном мире

В вебдеве показ статистики будет в 10-100 раз чаще обновления записей.






